#!/usr/bin/perl -w 

use strict;

my %efffactors;
$efffactors{"e"} = {
    "200_020_2.33333333333333" => 0.00065128,
    "200_020_7" => 0.00038006,
    "200_020_21" => 0.00013868,
    "200_050_6.66666666666666" => 0.00035684,
    "200_050_20" => 0.00019022,
    "200_050_60" => 0.00045604,
    "1000_020_0.499999999999999" => 0.004297,
    "1000_020_1.5" => 0.00310098,
    "1000_020_4.5" => 0.00140914,
    "1000_050_1.33333333333333" => 0.00632122,
    "1000_050_4" => 0.00454866,
    "1000_050_12" => 0.00211618,
    "1000_150_3.33333333333333" => 0.00638106,
    "1000_150_10" => 0.00396632,
    "1000_150_30" => 0.00197918,
    "1000_350_11.6666666666667" => 0.00440744,
    "1000_350_35" => 0.00212588,
    "1000_350_105" => 0.00075932,
    "400_020_1.33333333333333" => 0.0027951,
    "400_020_4" => 0.00195322,
    "400_020_12" => 0.00081062,
    "400_050_2.66666666666666" => 0.0031086,
    "400_050_8" => 0.0020609,
    "400_050_24" => 0.00093308,
    "400_150_13.3333333333333" => 0.0022611,
    "400_150_40" => 0.00108574,
    "400_150_120" => 0.0004249,
};

$efffactors{"mu"} = {
    "200_020_2.33333333333333" => 0.00396626,
    "200_020_7" => 0.00287218,
    "200_020_21" => 0.00131772,
    "200_050_6.66666666666666" => 0.00379022,
    "200_050_20" => 0.00233278,
    "200_050_60" => 0.00107532,
    "1000_020_0.499999999999999" => 0.00046082,
    "1000_020_1.5" => 0.00043234,
    "1000_020_4.5" => 0.00034292,
    "1000_050_1.33333333333333" => 0.0088517,
    "1000_050_4" => 0.00627494,
    "1000_050_12" => 0.00338884,
    "1000_150_3.33333333333333" => 0.01169268,
    "1000_150_10" => 0.00828612,
    "1000_150_30" => 0.00386598,
    "1000_350_11.6666666666667" => 0.01012802,
    "1000_350_35" => 0.00588614,
    "1000_350_105" => 0.00239662,
    "400_020_1.33333333333333" => 0.00551294,
    "400_020_4" => 0.00405774,
    "400_020_12" => 0.0020329,
    "400_050_2.66666666666666" => 0.00906034,
    "400_050_8" => 0.00651626,
    "400_050_24" => 0.00331788,
    "400_150_13.3333333333333" => 0.0080973,
    "400_150_40" => 0.00465554,
    "400_150_120" => 0.00188354,
};

my %long = ("e" => "Electrons", "mu" => "Muons");

foreach my $x (keys %efffactors) {
    my $leptype = $long{$x};
    my %effs = % {$efffactors{$x}};
    foreach my $tag (keys %effs) {
	$tag =~ /_(\d+)_/;
	my $m = $1;
	$m =~ s/^0//;
	my $eff = $effs{$tag};
	
	system("python mainSigmaBayesian.py $m $leptype $eff");
	system("mv $m.0.txt $leptype/$tag.txt");
    }
}

